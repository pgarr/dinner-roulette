{% extends "base.html" %}

{% block content %}
    <h1>New Recipe</h1>
    <form action="" method="post">
        {{ form.hidden_tag() }}
        <p>
            {{ form.recipe_name.label }}<br>
            {{ form.recipe_name(size=150) }}<br>
            {% for error in form.recipe_name.errors %}
                <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </p>
        <p>
            {{ form.time.label }}<br>
            {{ form.time(size=10) }}<br>
            {% for error in form.time.errors %}
                <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </p>
        <p>
            {{ form.difficulty.label }}<br>
            {{ form.difficulty(size=10) }}<br>
            {% for error in form.difficulty.errors %}
                <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </p>

        <h3>Ingredients</h3>
        <table>
            <tr>
                <th>Name</th>
                <th>Amount</th>
                <th>Unit</th>
            </tr>
            {% for i in form.ingredients %}
                {{ i.hidden_tag() }}
                {% for error in i.ingredient_name.errors %}
                    [{{ error }}]
                {% endfor %}
                {% for error in i.amount.errors %}
                    [{{ error }}]
                {% endfor %}
                {% for error in i.unit.errors %}
                    [{{ error }}]
                {% endfor %}
                <tr>
                    <td>{{ i.ingredient_name }}</td>
                    <td>{{ i.amount }}</td>
                    <td>{{ i.unit }}</td>
                </tr>
            {% endfor %}
        </table>
        {% for error in form.ingredients.errors %}
                <span style="color: red;">[{{ error }}]</span>
        {% endfor %}
        <p>
            {{ form.link.label }}<br>
            {{ form.link(size=10) }}<br>
            {% for error in form.link.errors %}
                <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </p>
        <p>
            {{ form.preparation.label }}<br>
            {{ form.preparation(size=150) }}<br>
            {% for error in form.preparation.errors %}
                <span style="color: red;">[{{ error }}]</span>
            {% endfor %}
        </p>
        <p>{{ form.submit() }}</p>
    </form>
{% endblock %}